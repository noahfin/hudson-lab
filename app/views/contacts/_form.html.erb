        <%= form_for(@contact, html: { multipart: true}) do |form| %> <!-- start of form to add new contact -->


            <div class="panel-body">
              <div class="form-horizontal">
                <div class="row">
                  <div class="col-md-8">
                    <div class="form-group">
                      <%= render 'layouts/messages' if !flash.empty? %>
                      <div class="col-md-9">
                      <label for="name" class="bmd-label-floating">Contacts Name</label>
                     <%= form.text_field :name, id: :contact_name, class: 'form-control' %>

                      </div>
                    </div>

                    <div class="form-group">

                      <div class="col-md-9">
                        <label for="company" class="bmd-label-floating">Contacts Company</label>
                    <%= form.text_field :company, id: :contact_company, class: 'form-control '%>

                      </div>
                    </div>

                    <div class="form-group">
                      <div class="col-md-9">
                        <label for="email" class="bmd-label-floating">Contacts Email</label>
                      <%= form.text_field :email, id: :contact_email, class: 'form-control rounded-0 '  %>

                      </div>
                    </div>

                    <div class="form-group">

                      <div class="col-md-9">
                        <label for="phone" class="bmd-label-floating">Contacts Phone</label>
                     <%= form.text_field :phone, id: :contact_phone, class: 'form-control rounded-0 ' %>

                      </div>
                    </div>
                    <div class="form-group">

                      <div class="col-md-9">
                        <label for="cell" class="bmd-label-floating">Contacts Cell</label>
                     <%= form.text_field :cell, id: :contact_cell, class: 'form-control rounded-0 '%>

                      </div>
                    </div>

                    <div class="form-group">

                      <div class="col-md-9">
                        <label for="address" class="bmd-label-floating">Address</label>
                      <%= form.text_area :address, id: :contact_address, class: 'form-control rounded-0', row: '3' %>
                      </div>
                    </div>
                    <div class="form-group">
                       <label for="group" class="bmd-label-floating ml-3">Select Group or create one</label>
                      <% attr = {prompt: "Select Group"} %>
                      <% attr[:selected] = session[:selected_group_id].to_i if session[:selected_group_id] %>
                      <div class="row">



                      <div class="col-md-5 ml-3">
                      <%= form.collection_select :group_id, Group.all, :id, :name, attr,{class: " selectpicker", "data-style" => "select-with-transition", "data-size" => Group.count } %>

                      </div>
                       <div class="col-md-5 ml-3">
                      <%= form.collection_select :user_id, User.all, :id, :first_name, attr,{class: " selectpicker", "data-style" => "select-with-transition", "data-size" => User.count } %>

                      </div>
                      <div class="col-md-3">
                        <a href="#" id="add-group-btn" class="btn btn-outline-info btn-block">Add Group</a>
                      </div>
                    </div>
                    <div class="form-group" id="add-new-group" style="display: none;">
                      <div class="col-md-offset-3 col-md-8">
                        <div class="input-group pl-0">
                          <div class="col-md-12">
                          <div class="row pl-0">

                            <div class="col-md-10 pl-0">
                              <label for="address" class="bmd-label-floating">New Group Name</label>
                              <input type="text" name="new_group" id="new_group" class="form-control ml-0">
                            </div>
                            <div class="col-md-2 ">
                                   <span class="input-group-btn mr-0">
                                <button type="button" class="btn btn-fab btn-round btn-info" id="save-new-group">
                                    <i class="material-icons">check</i>
                                </button>
                            </span>
                            </div>


                          </div>
                           </div>
                        </div>
                      </div>
                    </div>
                     </div>
                  </div>
                  <div class="col-md-3">
                    <div class="fileinput fileinput-new" data-provides="fileinput">
                      <div class="fileinput-new thumbnail" style="width: 150px; height: 150px;">
                      <%= image_tag @contact.avatar.present? ? @contact.avatar.url(:thumb) : 'http://placehold.it/150x150', class: "media-object" %>

                      </div>
                      <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;">                      <%= image_tag @contact.avatar.present? ? @contact.avatar.url(:thumb) : 'http://placehold.it/150x150', class: "media-object" %></div>
                      <div class="text-center">

                        <span class="btn btn-default btn-file"><span class="fileinput-new">Choose Photo</span><span class="fileinput-exists">Change</span><%= form.file_field :avatar %></span>
                        <a href="#" class="btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="panel-footer">
              <div class="row">
                <div class="col-md-8">
                  <div class="row">
                    <div class="col-md-offset-3 col-md-6 ml-3">
                    <%= form.submit @contact.new_record? ? "Save" : "Update", class: "btn btn-outline-success  mr-4 "  %>

                      <a href="#" class="btn btn-outline-danger">Cancel</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
             <% end %>
